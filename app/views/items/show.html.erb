<h5><%= @item.name %></h5>

<% if @item.picture %>
  <%= image_tag @item.picture, height: 300, width: 400, crop: :fill %>
<% else %>
  <% @item.photos.each do |photo| %>
    <%= cl_image_tag photo.key, height: 300, width: 400, crop: :fill %>
  <% end %>
<% end %>

<ul>
  <li>Category: <%= @item.category %></li>
  <li>Description: <%= @item.description %></li>
  <li>Postal code: <%= @item.postal_code %></li>
  <li>Quantity: <%= @item.quantity %></li>
  <li>Minimum rental days: <%= @item.min_days_rent %></li>
  <li>Price: <%= @item.price %> euros per day</li>
</ul>

<div>
  <% unless policy(@item).owner? %>
    <button type="button" class="btn btn-success">
      <%= link_to "Book", new_item_booking_path(@item) %>
    </button>
  <% end %>
</div>

<div>
  <% if policy(@item).edit? %>
    <button type="button" class="btn btn-warning">
      <%= link_to "Edit", edit_item_path %>
    </button>
  <% end %>
</div>

<div>
  <% if policy(@item).destroy? %>
    <button type="button" class="btn btn-danger">
      <%= link_to "Delete",
        item_path,
        data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}
      %>
    </button>
  <% end %>
</div>

<div>
  <button>
    <%= link_to "See all items", items_path %>
  </button>
</div>


<h2>Reviews</h2>
<% if @reviews.present? %>
  <%= render @reviews %>
<% else %>
  <p>No reviews yet.</p>
<% end %>

<style>
.star-rating {
  display: inline-flex;
  align-items: center;
}
.star-rating label {
  color: #999;
  font-size: 24px;
  line-height: 1;
  margin-right: 5px;
  cursor: pointer;
}
.star-rating .full-star {
  color: #FFD700;
  text-shadow: 1px 1px #555;
}
.star-rating .half-star:before {
  content: "\00BD";
  position: relative;
  left: -0.5em;
}
.star-rating .empty-star:hover,
.star-rating .full-star:hover,
.star-rating .half-star:hover ~ label {
  color: #FFD700;
}
.star-rating .full-star.selected,
.star-rating .half-star.selected ~ .full-star {
  color: #FFD700;
}
</style>
